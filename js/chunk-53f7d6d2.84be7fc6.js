(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f7d6d2"],{"5f47":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{dense:"",label:"Filter by Event",items:e.events,"item-text":"name","item-value":"id","hide-details":"","search-input":e.eventSearchInput,loading:e.findingEvents,"no-data-text":"No Result Found! Type here to Search event","menu-props":{contentClass:"list-style"},"return-object":"",clearable:""},on:{"update:searchInput":function(t){e.eventSearchInput=t},"update:search-input":function(t){e.eventSearchInput=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("span",{staticClass:"d-block font-weight-medium text-truncate"},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm"},[e._v(" "+e._s(t.item.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.$utils.formatDate(t.item.start_date,"MMM D, YYYY"))+" - "+e._s(e.$utils.formatDate(t.item.end_date,"MMM D, YYYY"))+" ")])],1)]}}]),model:{value:e.selectedEvent,callback:function(t){e.selectedEvent=t},expression:"selectedEvent"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{disabled:!e.selectedEvent,dense:"",label:"Filter by Race",items:e.races,"item-text":"name","item-value":"id","menu-props":{contentClass:"list-style"},loading:e.loadingRaces,"no-data-text":"No Race Found!","hide-details":"",clearable:"","return-object":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm"},[e._v(" "+e._s(t.item.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.$utils.formatDate(t.item.start_datetime))+" ")])],1)]}}]),model:{value:e.selectedRace,callback:function(t){e.selectedRace=t},expression:"selectedRace"}})],1),a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"d-flex align-center pb-5"},[a("v-text-field",{staticClass:"me-3 search-input",attrs:{value:e.tableFiltering.search,dense:"",clearable:"","hide-details":"",placeholder:"Search ..."},on:{change:function(t){return e.$set(e.tableFiltering,"search",t)},"click:clear":function(t){return e.$set(e.tableFiltering,"search",null)}}}),a("v-spacer"),a("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"info"},on:{click:function(t){return e.loadRecords(1)}}},[a("v-icon",[e._v(e._s(e.icons.mdiRefresh))])],1)],1)])],1)],1),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:e.tableColumns,items:e.records,options:e.tableOptions,"server-items-length":e.pagination.total,loading:e.loading,"footer-props":{"items-per-page-options":e.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS,"show-current-page":!0,"show-first-last-page":!0}},on:{"update:options":[function(t){e.tableOptions=t},function(t){return e.loadRecords()}]},scopedSlots:e._u([{key:"item.rider",fn:function(t){var n=t.item;return[a("div",{staticClass:"d-flex align-center"},[a("v-avatar",{staticClass:"v-avatar-light-bg success--text",attrs:{color:"success",size:"30"}},[n._rider&&n._rider._user.avatar?a("v-img",{attrs:{src:n._rider._user.avatar}}):a("span",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.avatarText(n._rider?n._rider.first_name:n.more_data.first_name||"N/A"))+" ")])],1),a("div",{staticClass:"d-flex flex-column pl-1"},[a("span",{staticClass:"font-weight-semibold text-truncate text-decoration-none",attrs:{href:"javascript:"}},[n._rider?a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icons.mdiAccountCheck))]):e._e(),e._v(" "+e._s(e.displayRiderName(n))+" ")],1)])],1)]}},{key:"item.race",fn:function(t){var n=t.item;return[a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-weight-semibold text-truncate"},[e._v(" "+e._s(n._race.name)+" ")]),a("span",{staticClass:"text-xs text-truncate"},[e._v(" "+e._s(n._race._event.name)+" ")])])]}},{key:"item.create_datetime",fn:function(t){var n=t.item;return[a("span",{staticClass:"pr-1"},[e._v(e._s(e.$utils.formatDate(n.create_datetime,"M/D/YY")))]),a("span",{staticClass:"text-caption"},[e._v(e._s(e.$utils.formatDate(n.create_datetime,"HH:mm")))])]}},{key:"item.place",fn:function(t){var n=t.item;return[a("span",{staticClass:"font-weight-semibold"},[e._v(e._s(n.place))]),1==n.place?a("v-icon",{staticClass:"ml-1",attrs:{size:"20",color:"warning"}},[e._v(e._s(e.icons.mdiPodiumGold))]):e._e()]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("div",{staticClass:"d-flex align-end justify-end"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""},on:{click:function(t){return e.$refs.formDialogRef.show(n)}}},"v-btn",i,!1),s),[a("v-icon",{attrs:{size:"18"}},[e._v(" "+e._s(e.icons.mdiPencilOutline)+" ")])],1)]}}],null,!0)},[a("span",[e._v("Edit")])])],1)]}}])})],1)},s=[],i=(a("498a"),a("99af"),a("94ed")),c=a("ed09"),l=a("bb36"),r=a("cbec"),o=a("0e20"),u=a("2ef0"),d=a.n(u),v={components:{},props:{apiParams:{type:Object,required:!1}},setup:function(e,t){var a=Object(c["J"])([]),n=Object(c["J"])({total:0}),s=Object(c["J"])(!1),u=Object(c["J"])(!1),v=Object(c["J"])({}),m=Object(c["J"])({}),f=[{text:"#ID",value:"id",align:"start"},{text:"RIDER",value:"rider"},{text:"RACE",value:"race",cellClass:"race-td"},{text:"PLACE",value:"place"},{text:"CREATED AT",value:"create_datetime"}],p=Object(c["J"])([]),_=Object(c["J"])([]),b=Object(c["J"])(""),g=Object(c["J"])(null),h=Object(c["J"])(null),x=Object(c["J"])(!1);Object(c["Y"])(b,(function(){C(b.value)})),Object(c["Y"])(g,(function(){h.value=null,E(1),R()})),Object(c["Y"])(h,(function(){E(1)}));var O=function(e){x.value?p.value=[]:(x.value=!0,l["a"].get("usacycling/event/",{params:{search:e}}).then((function(e){x.value=!1,p.value=e.data.results}),(function(e){x.value=!1,Object(r["notifyDefaultServerError"])(e,!0)})))},C=d.a.debounce(O,500),j=function(e){var t="";return t=e._rider?"".concat(e._rider.first_name," ").concat(e._rider.last_name).trim():"".concat(e.more_data.first_name||""," ").concat(e.more_data.last_name||"").trim(),t||"N/A"},E=function(t){t&&(v.value.page=t);var i=Object.assign({},m.value,e.apiParams,Object(r["refineVTableOptions"])(v.value));h.value?i.race=h.value.id:g.value&&(i.event=g.value.event_id),s.value=!0,l["a"].get("bycing_org/race_result/",{params:i}).then((function(e){s.value=!1,a.value=e.data.results,n.value=e.data.pagination}),(function(e){s.value=!1,Object(r["notifyDefaultServerError"])(e,!0)}))},R=function(){g.value?(u.value=!0,l["a"].get("bycing_org/race/",{params:{event:g.value.event_id,page_size:0}}).then((function(e){u.value=!1,_.value=e.data.results}),(function(e){u.value=!1,Object(r["notifyDefaultServerError"])(e,!0)}))):_.value=[]};return Object(c["Y"])((function(){return m}),(function(e,t){E(1)}),{deep:!0}),Object(c["A"])((function(){})),{records:a,eventSearchInput:b,events:p,races:_,selectedEvent:g,selectedRace:h,findEvents:O,findEventsDebounce:C,findingEvents:x,displayRiderName:j,tableColumns:f,tableOptions:v,tableFiltering:m,loading:s,loadingRaces:u,pagination:n,avatarText:o["a"],loadRecords:E,loadRaces:R,icons:{mdiPencilOutline:i["xb"],mdiEyeOutline:i["R"],mdiAccountGroupOutline:i["f"],mdiAccountMultipleOutline:i["g"],mdiClose:i["G"],mdiCheck:i["v"],mdiInformationOutline:i["kb"],mdiRefresh:i["Eb"],mdiAccountCheck:i["b"],mdiFileExcelOutline:i["U"],mdiPodiumGold:i["Bb"]}}}},m=v,f=a("2877"),p=a("6544"),_=a.n(p),b=a("c6a6"),g=a("8212"),h=a("8336"),x=a("b0af"),O=a("99d9"),C=a("62ad"),j=a("8fea"),E=a("132d"),R=a("adda"),y=a("5d23"),k=a("0fd9"),w=a("2fa4"),D=a("8654"),V=a("3a2f"),A=Object(f["a"])(m,n,s,!1,null,"07fd1ade",null);t["a"]=A.exports;_()(A,{VAutocomplete:b["a"],VAvatar:g["a"],VBtn:h["a"],VCard:x["a"],VCardText:O["c"],VCol:C["a"],VDataTable:j["a"],VIcon:E["a"],VImg:R["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VRow:k["a"],VSpacer:w["a"],VTextField:D["a"],VTooltip:V["a"]})},ec37:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("race-results-cmp")},s=[],i=a("5f47"),c={components:{RaceResultsCmp:i["a"]},props:{},setup:function(e,t){return{}}},l=c,r=a("2877"),o=Object(r["a"])(l,n,s,!1,null,null,null);t["default"]=o.exports}}]);